# 开发笔记

## 小灯泡

- 框架应减少代码侵入性，尽量以最少的代码完成最多的事（可用Attribute来实现）
- 框架应减少依赖性，每个包应只做一件事
- 框架应做好代码规范
- 框架应尽可能地在后台完成所有工作，比如：Furion中的TenantId不必引入实体，而是在DbContext中实现
- 是否可通过配置，来实现无侵入呢？
    - 模块化需要Module类来实现，那么我通过配置程序集中的类，是否就可以实现无侵入？
- app层不应该关注任何通信协议的细节，他所展示的是用户用例，而协议或可通过Attribute来实现
- 多租户，实体不需要加`TenantId`，因为一般不会在代码中使用到`TenantId`，只需获取`CurrentTenantId`
- 实体审计字段不在实体中，使用审计日志，不污染实体

## 小提示

- 使用`ExceptionDispatchInfo`重新抛出原始线程的异常

## EfCore

### 关于迁移文件

- 实体中的属性要想让框架自动发现，起码要设置`private set`，否则只能通过`ModelBuilder`来配置
